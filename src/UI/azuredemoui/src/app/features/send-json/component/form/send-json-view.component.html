<div *ngIf="loading; else formBlock">Loading...</div>

<ng-template #formBlock>
  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>
  <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
    <div class="mb-3">
      <label for="id" class="form-label">Id</label>
      <input
        id="id"
        type="number"
        class="form-control"
        formControlName="id"
        [class.is-invalid]="form.get('id')?.invalid && form.get('id')?.touched"
      />
      <div class="invalid-feedback">Id is required.</div>
    </div>

    <div class="mb-3">
      <label for="name" class="form-label">Name</label>
      <input
        id="name"
        type="text"
        class="form-control"
        formControlName="name"
        [class.is-invalid]="
          form.get('name')?.invalid && form.get('name')?.touched
        "
      />
      <div class="invalid-feedback">Name is required.</div>
    </div>

    <div class="mb-3">
      <label for="surname" class="form-label">Surname</label>
      <input
        id="surname"
        type="text"
        class="form-control"
        formControlName="surname"
        [class.is-invalid]="
          form.get('surname')?.invalid && form.get('surname')?.touched
        "
      />
      <div class="invalid-feedback">Surname is required.</div>
    </div>

    <div class="mb-3">
      <label for="age" class="form-label">Age</label>
      <input
        id="age"
        type="number"
        class="form-control"
        formControlName="age"
        [class.is-invalid]="
          form.get('age')?.invalid && form.get('age')?.touched
        "
      />
      <div class="invalid-feedback">Age must be 0 or greater.</div>
    </div>

    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input
        id="email"
        type="email"
        class="form-control"
        formControlName="email"
        [class.is-invalid]="
          form.get('email')?.invalid && form.get('email')?.touched
        "
      />
      <div class="invalid-feedback">Enter a valid email address.</div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="form.invalid">
      WyÅ›lij
    </button>
  </form>
</ng-template>
